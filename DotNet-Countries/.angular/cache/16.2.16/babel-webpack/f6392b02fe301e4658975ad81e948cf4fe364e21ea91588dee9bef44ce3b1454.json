{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/country.service\";\nimport * as i2 from \"src/app/services/favourite.service\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"@angular/common\";\nfunction CountriesComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"h5\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function CountriesComponent_div_4_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const country_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addToFavourite(country_r1));\n    });\n    i0.ɵɵtext(11, \" Add to Favourite \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const country_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", country_r1.flagUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(country_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Capital: \", country_r1.capital, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Region: \", country_r1.region, \"\");\n  }\n}\nexport class CountriesComponent {\n  constructor(countryService, favService, auth) {\n    this.countryService = countryService;\n    this.favService = favService;\n    this.auth = auth;\n    this.countries = [];\n  }\n  ngOnInit() {\n    this.user = this.auth.getUser();\n    this.countryService.getCountries().subscribe(data => {\n      this.countries = data;\n    });\n  }\n  addToFavourite(country) {\n    const fav = {\n      userId: this.user.userId,\n      countryName: country.name,\n      capital: country.capital,\n      region: country.region,\n      flagUrl: country.flagUrl\n    };\n    this.favService.addFavourite(fav).subscribe(() => {\n      alert(\"Added to favourites\");\n    });\n  }\n  static {\n    this.ɵfac = function CountriesComponent_Factory(t) {\n      return new (t || CountriesComponent)(i0.ɵɵdirectiveInject(i1.CountryService), i0.ɵɵdirectiveInject(i2.FavouriteService), i0.ɵɵdirectiveInject(i3.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CountriesComponent,\n      selectors: [[\"app-countries\"]],\n      decls: 5,\n      vars: 1,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [\"class\", \"col-md-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"mb-3\"], [1, \"card\", \"h-100\", \"shadow-sm\"], [\"height\", \"150\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"click\"]],\n      template: function CountriesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n          i0.ɵɵtext(2, \"Countries\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1);\n          i0.ɵɵtemplate(4, CountriesComponent_div_4_Template, 12, 4, \"div\", 2);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n        }\n      },\n      dependencies: [i4.NgForOf],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CountriesComponent_div_4_Template_button_click_10_listener","restoredCtx","ɵɵrestoreView","_r3","country_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","addToFavourite","ɵɵadvance","ɵɵproperty","flagUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","ɵɵtextInterpolate1","capital","region","CountriesComponent","constructor","countryService","favService","auth","countries","ngOnInit","user","getUser","getCountries","subscribe","data","country","fav","userId","countryName","addFavourite","alert","ɵɵdirectiveInject","i1","CountryService","i2","FavouriteService","i3","AuthService","selectors","decls","vars","consts","template","CountriesComponent_Template","rf","ctx","ɵɵtemplate","CountriesComponent_div_4_Template"],"sources":["C:\\Users\\Munish\\Hcl_task\\DotNet-Countries\\src\\app\\components\\countries\\countries.component.ts","C:\\Users\\Munish\\Hcl_task\\DotNet-Countries\\src\\app\\components\\countries\\countries.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CountryService } from 'src/app/services/country.service';\nimport { FavouriteService } from 'src/app/services/favourite.service';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-countries',\n  templateUrl: './countries.component.html'\n})\nexport class CountriesComponent implements OnInit {\n\n  countries: any[] = [];\n  user: any;\n\n  constructor(\n    private countryService: CountryService,\n    private favService: FavouriteService,\n    private auth: AuthService\n  ) {}\n\n  ngOnInit() {\n    this.user = this.auth.getUser();\n    this.countryService.getCountries().subscribe(data => {\n      this.countries = data;\n    });\n  }\n\n  addToFavourite(country: any) {\n    const fav = {\n      userId: this.user.userId,\n      countryName: country.name,\n      capital: country.capital,\n      region: country.region,\n      flagUrl: country.flagUrl\n    };\n\n    this.favService.addFavourite(fav).subscribe(() => {\n      alert(\"Added to favourites\");\n    });\n  }\n}\n","<div class=\"container mt-4\">\n  <h3>Countries</h3>\n\n  <div class=\"row\">\n    <div class=\"col-md-4 mb-3\" *ngFor=\"let country of countries\">\n      <div class=\"card h-100 shadow-sm\">\n        <img [src]=\"country.flagUrl\" class=\"card-img-top\" height=\"150\">\n        <div class=\"card-body\">\n          <h5>{{country.name}}</h5>\n          <p>Capital: {{country.capital}}</p>\n          <p>Region: {{country.region}}</p>\n          <button class=\"btn btn-success w-100\"\n                  (click)=\"addToFavourite(country)\">\n            Add to Favourite\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}